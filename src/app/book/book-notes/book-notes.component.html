<div class="mt-5 mb-5">
  <!-- book details -->
  <div class="row">
    <div class="col-md-3">
      <img
        *ngIf="book.linkToCover"
        [src]="book.linkToCover"
        alt="book cover"
        class="cover-notes"
      />
    </div>
    <div class="col-md-6 p-left">
      <div class="mt-4">
        <span
          *ngIf="book.status === 'READ'"
          class="badge badge-success d-inline"
          >READ</span
        >
        <span
          *ngIf="book.status === 'WAITING'"
          class="badge badge-warning d-inline"
          >WAITING</span
        >
        <span
          *ngIf="book.status === 'READING'"
          class="badge badge-primary d-inline"
          >READING</span
        >
      </div>
      <div class="mt-4">
        <label><b>Title:</b></label> {{ book.title }}
      </div>
      <div class="mt-1">
        <label><b>Author:</b></label> {{ book.author }}
      </div>
      <div class="mt-4">
        <label><b>Created date:</b></label>
        {{ book.createdDate | date : "d MMM yyyy | HH:mm" }}
      </div>
      <div>
        <label><b>Last edited:</b></label>
        {{ book.lastModifiedDate | date : "d MMM yyyy | HH:mm" }}
      </div>
    </div>
  </div>

  <!-- Notes section -->
  <div class="mt-5">
    <!-- Presentation of the contents of the note. -->
    <div *ngIf="!isEditing">
      <div class="notes-presentation">
        {{ missingNotesMessage }}
        {{ note.content }}
      </div>
      <div class="d-flex justify-content-center mt-3">
        <button
          (click)="isEditing = true"
          class="btn btn-primary btn-lg btn-rounded fw-bold"
        >
          Edit
        </button>
      </div>
    </div>

    <!-- Edit the content of the note. -->
    <div *ngIf="isEditing">
      <textarea
        [(ngModel)]="note.content"
        rows="15"
        class="form-control"
      ></textarea>
      <div class="d-flex justify-content-center mt-3">
        <button
          (click)="saveNote()"
          [disabled]="!canSaveNote()"
          class="btn btn-success btn-lg btn-rounded fw-bold"
        >
          Save
        </button>
        <button
          (click)="isEditing = false; cleanMissingNotesMessage()"
          class="btn btn-warning btn-lg btn-rounded fw-bold ms-2"
        >
          Cancel
        </button>
      </div>
    </div>
  </div>
</div>
